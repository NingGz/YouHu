<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <title></title>
    <script src="../../../scripts/boot.js" type="text/javascript"></script>
    <script src="../../fileupload/swfupload/swfupload.js" type="text/javascript"></script>
    <script src="multiupload.js" type="text/javascript"></script>
    <link href="multiupload.css" rel="stylesheet" type="text/css" />
    <style type="text/css">
        html, body
        {
            height: 100%;
            width: 100%;
            padding: 0;
            margin: 0;
            overflow: hidden;
        }
    </style>
</head>
<body>
    <div class="mini-panel" style="width: 100%; height: 100%" showfooter="true" bodystyle="padding:0" borderStyle="border:0"
        showheader="false">
        
        <div id="multiupload1" class="uc-multiupload" style="width: 100%; height: 100%" 
            flashurl="../../fileupload/swfupload/swfupload.swf"
            uploadurl="../../fileupload/upload.jsp" _autoupload="true" borderstyle="border:0" >
        </div>

        <div property="footer" style="padding:8px; text-align: center">
            <a class="mini-button" onclick="onOk" style="width: 80px" iconcls="icon-ok">确定</a>
            <a class="mini-button" onclick="onCancel" style="width: 80px; margin-left: 50px"
                iconcls="icon-cancel">取消</a>
        </div>

    </div>
</body>
</html>
<script type="text/javascript">
    mini.parse();
    var grid = mini.get("multiupload1");

    function SaveData() {
        CloseWindow("ok");
    }
    function CloseWindow(action) {
        if (window.CloseOwnerWindow) return window.CloseOwnerWindow(action);
        else window.close();
    }
    function onOk(e) {
        SaveData();
    }
    function onCancel(e) {        
        CloseWindow("cancel");
   }

   function SetData(params) {
       
       grid.setPostParam(params);
   }

   function GetData() {
        var rows = grid.findRows(function (row) {
            if (row.status == 1) {
                return true;
            }
        })
        return rows;
    }
    
//    function GetNoUploadedData() {
//        var rows = grid.findRows(function (row) {
//            if (row.status !== 1) {
//                return true;
//            }
//        })
//        return rows;
//    }
</script>
